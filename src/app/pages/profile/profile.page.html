<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="tabs/plan"></ion-back-button>
    </ion-buttons>
    <ion-title>Profile</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="signOut()">
        <ion-icon slot="icon-only" name="log-out"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>


  <ion-card style=" width: 200px; margin: auto;" *ngIf="user">



    <ion-card-content style="display: grid;">
      <div style="margin: auto; ">
        <img id="image" style="width: 100px;" [src]="user.photoUrl" />
        <ion-text (click)="savePic()" *ngIf="user.photoUrl != originalUser.photoUrl" color="success">
          Save
        </ion-text>
        <label *ngIf="user.photoUrl == originalUser.photoUrl" for="pic" (click)="savePic()" color="success">
          Edit
        </label>
      </div>


    </ion-card-content>

  </ion-card>

  <input (change)="readURL($event)" accept="image/*" style="display: none;" id="pic" type="file" />
  <ion-list margin-top *ngIf="user && originalUser">
    <ion-item-divider>My Information</ion-item-divider>
    <ion-item *ngIf="user">
      <ion-label position="floating">First Name</ion-label>
      <ion-input [(ngModel)]="user.fname"></ion-input>
      <ion-note (click)="saveFname()" *ngIf="user.fname != originalUser.fname" color="success" slot="end">save
      </ion-note>
    </ion-item>
    <ion-item *ngIf="user">
      <ion-label position="floating">Last Name</ion-label>
      <ion-input [(ngModel)]="user.lname"></ion-input>
      <ion-note (click)="saveLname()" *ngIf="user.lname != originalUser.lname" color="success" slot="end">save
      </ion-note>
    </ion-item>
    <ion-item *ngIf="user">
      <ion-label position="floating">Email</ion-label>
      <ion-input [(ngModel)]="user.email"></ion-input>
      <ion-note (click)="saveEmail()" *ngIf="user.email != originalUser.email" color="success" slot="end">save
      </ion-note>
    </ion-item>

    <ion-item-divider>Coach Settings</ion-item-divider>

    <ion-item margin-top lines="none" *ngIf="coach">
      <ion-avatar slot="start">
        <img [src]="coach.photoUrl">
      </ion-avatar>
      <ion-label>
        Coach {{ coach.fname + " " + coach.lname }}
      </ion-label>
    </ion-item>
    <ion-button routerLink="/select-coach" fill="clear">Change Coach</ion-button>
    <ion-item *ngIf="user.uid == user.coach">
      <ion-label position="floating">Sport</ion-label>
      <ion-select okText="Save" name="sport" (ionChange)="saveSport()" [(ngModel)]="user.sport">
          <ion-select-option value="football">Football</ion-select-option>
          <ion-select-option value="volleyball">Volleyball</ion-select-option>
          <ion-select-option value="basketball">Basketball</ion-select-option>
          <ion-select-option value="soccer">Soccer</ion-select-option>
        </ion-select>
    </ion-item>
   
    <ion-item *ngIf="user.uid == user.coach">
      <ion-label  position="floating">Coach Password</ion-label>
      <ion-input [(ngModel)]="user.coachPassword"></ion-input>
      <ion-note (click)="saveCoachPassword()" *ngIf="user.coachPassword != originalUser.coachPassword" color="success" slot="end">save
      </ion-note>
    </ion-item>
  </ion-list>
  version: 0.0.0
</ion-content>